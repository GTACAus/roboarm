<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Robotic Arm â€” Instructions</title>
  <style>
    body{
      font-family: Arial, sans-serif; background:#f0f0f0; margin:0; padding:0;
      display:flex; flex-direction:column; align-items:center; justify-content:center; min-height:100vh;
    }
    .card{
      background:#fff; border-radius:15px; box-shadow:0 4px 8px rgba(0,0,0,.2);
      margin:20px; width:90%; max-width:900px; padding:16px;
      text-align:center; height:800px; display:none; flex-direction:column; justify-content:space-between; position:relative; padding-bottom:70px;
    }
    .card.active{ display:flex; }
    .card h1{ font-size:2.2em; margin:6px 0; }
    .card h2{ font-size:1.6em; margin:6px 0 10px; }
    .card p{ font-size:1.15em; margin:10px 24px; line-height:1.45; }
    .card img{ border-radius:10px; width:100%; height:auto; margin-top:10px; }
    video{ border-radius:10px; width:100%; max-width:100%; height:auto; margin-top:10px; }

    /* ðŸ‘‡ new class just for smaller images */
    .img-small{
      max-width:380px; 
      width:100%;
      height:auto;
      display:block;
      margin:10px auto;
    }

    .nav-buttons{
      display:flex; justify-content:space-between; align-items:center; padding:0 15px; margin-top:20px;
    }
    .nav-buttons button, .nav-buttons a.btn{
      margin:5px; padding:10px 18px; border:none; border-radius:25px;
      background:#007bff; color:#fff; font-size:1em; cursor:pointer;
      text-decoration:none; display:inline-block;
    }
    .nav-buttons button:hover, .nav-buttons a.btn:hover{ background:#0056b3; }
  </style>
</head>
<body>

  <!-- 01/04 INTRO -->
  <section class="card active" id="c1">
    <h1>01/04</h1>
    <h2>Robotic Arm â€” What you'll do</h2>
    <p>
      In this activity youâ€™ll <strong>build a robotic arm</strong>,
      then <strong>upload a code & test</strong> it. Use the buttons below to move through each step.
    </p>
    <img src="roboticarm.png" alt="Robotic arm alert button build" class="img-small">
    <div class="nav-buttons">
      <a class="btn" href="index.html">â—€ Home</a>
      <button onclick="nextPage()">Start â–¶</button>
    </div>
  </section>

  <!-- 02/04 BUILD -->
  <section class="card" id="c2">
    <h1>02/04</h1>
    <h2>Build Your Alert Button</h2>
    <img src="https://gtacaus.github.io/legobots/alert.jpg" alt="Alert Button Build" class="img-small">
    <p>Follow these instructions to create the alert button for your robotic arm.</p>
    <div class="nav-buttons">
      <button onclick="prevPage()">â—€ Prev</button>
      <a class="btn" href="https://gtacaus.github.io/legobots/alert.pdf" target="_blank" rel="noopener">BUILD (PDF)</a>
      <button onclick="nextPage()">Next â–¶</button>
    </div>
  </section>

  <!-- 03/04 UPLOAD & TEST -->
  <section class="card" id="c3">
    <h1>03/04</h1>
    <h2>Upload & Test</h2>

    <!-- iPad-specific video (hidden by default) -->
    <video id="ipadVideo" controls style="display:none">
      <source src="AlertUpload_MM_v3.mp4" type="video/mp4">
      <source src="AlertUpload_MM_v3.mp4" type="video/quicktime">
    </video>

    <!-- Default video -->
    <video id="defaultVideo" controls>
      <source src="AlertUpload_MM_upscaled.mp4" type="video/mp4">
      <source src="AlertUpload_MM_upscaled.mp4" type="video/quicktime">
    </video>

    <p>Watch how to upload the code and test your <strong>Robotic Arm Alert</strong>.</p>

    <div class="nav-buttons">
      <button onclick="prevPage()">â—€ Prev</button>
      <button id="uploadButton">UPLOAD & TEST</button>
      <button id="iPadMessage" style="display:none"
        onclick="window.open('https://apps.apple.com/us/app/spike-lego-education/id6443545905','_blank')">
        Install SPIKE (iPad)
      </button>
      <button onclick="nextPage()">Next â–¶</button>
    </div>
  </section>

  <!-- 04/04 DONE -->
  <section class="card" id="c4">
    <h1>04/04</h1>
    <h2>All set!</h2>
    <p>Youâ€™ve built and tested your robotic arm alert. Explore more or return home.</p>
    <div class="nav-buttons">
      <button onclick="prevPage()">â—€ Prev</button>
      <a class="btn" href="index.html">Home â–¶</a>
    </div>
  </section>

  <script>
    let current = 0;
    const cards = Array.from(document.querySelectorAll('.card'));
    function show(i){
      cards[current].classList.remove('active');
      current = i;
      cards[current].classList.add('active');
      document.querySelectorAll('video').forEach(v => { v.pause(); });
    }
    function nextPage(){ if(current < cards.length - 1) show(current + 1); }
    function prevPage(){ if(current > 0) show(current - 1); }

    // iPad handling + upload button behavior
    function isiPad(){
      if (navigator.userAgent.includes("iPad")) return true;
      if (navigator.platform === "MacIntel" && navigator.maxTouchPoints > 1) return true;
      return false;
    }
    function setUploadBehaviour(){
      const uploadBtn = document.getElementById('uploadButton');
      const ipadMsg  = document.getElementById('iPadMessage');
      const ipadVid  = document.getElementById('ipadVideo');
      const defVid   = document.getElementById('defaultVideo');

      if (isiPad()){
        ipadMsg.style.display = 'inline-block';
        uploadBtn.style.display = 'none';
        ipadVid.style.display = 'block';
        defVid.style.display = 'none';
      } else {
        ipadMsg.style.display = 'none';
        uploadBtn.style.display = 'inline-block';
        ipadVid.style.display = 'none';
        defVid.style.display = 'block';
        uploadBtn.onclick = () => window.open('https://spike.legoeducation.com/prime/lobby/','_blank');
      }
    }
    setUploadBehaviour();
  </script>
</body>
</html>
